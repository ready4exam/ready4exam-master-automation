<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ready4Exam — Class Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'sans-serif'] },
          colors: {
            'cbse-blue': '#1a3e6a',
            'cbse-light': '#f5f7fa',
            'accent-gold': '#ffb703',
          }
        }
      }
    };
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
    body { font-family:'Inter',sans-serif; }
    .card { @apply bg-white p-6 rounded-xl border border-gray-200 shadow-md hover:shadow-xl transition; }
    .stream-btn:hover { transform:translateY(-4px); }
  </style>
</head>

<body class="bg-cbse-light min-h-screen flex flex-col">
  <!-- HEADER -->
  <header class="bg-cbse-blue shadow-lg">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-extrabold text-accent-gold tracking-wider">
        Ready4<span class="text-white">Exam</span> Portal
      </h1>
      <nav>
        <button id="login-btn" class="px-4 py-2 text-sm font-semibold rounded-lg bg-white text-cbse-blue hover:bg-gray-100 transition">
          Sign In
        </button>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main class="flex-grow max-w-5xl mx-auto px-6 py-12 text-center">
    <h2 id="class-header" class="text-3xl font-extrabold text-cbse-blue mb-4"></h2>
    <p class="text-gray-700 mb-10 leading-relaxed max-w-3xl mx-auto">
      Select your academic stream to explore NCERT-aligned subjects and begin topic-wise practice.
    </p>

    <!-- STREAM SELECTION -->
    <div id="stream-selection" class="grid grid-cols-1 sm:grid-cols-3 gap-6 mb-16">
      <button data-stream="Science" class="card stream-btn">
        <h3 class="text-xl font-bold text-cbse-blue mb-2">Science</h3>
        <p class="text-gray-600 text-sm">
          Physics, Chemistry, Biology &amp; Mathematics — explore concepts that explain the world around you.
        </p>
      </button>
      <button data-stream="Commerce" class="card stream-btn">
        <h3 class="text-xl font-bold text-cbse-blue mb-2">Commerce</h3>
        <p class="text-gray-600 text-sm">
          Accountancy, Business Studies, Economics — the building blocks of modern trade and finance.
        </p>
      </button>
      <button data-stream="Humanities" class="card stream-btn">
        <h3 class="text-xl font-bold text-cbse-blue mb-2">Humanities / Arts</h3>
        <p class="text-gray-600 text-sm">
          History, Geography, Political Science, Sociology — understand culture, society &amp; the world.
        </p>
      </button>
    </div>

    <!-- SUBJECT DISPLAY -->
    <div id="subject-container" class="hidden">
      <h3 id="stream-title" class="text-2xl font-bold text-cbse-blue mb-6"></h3>
      <div id="subject-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="bg-cbse-blue py-8 text-center text-white">
    <p class="text-sm opacity-80">© 2025 Ready4Exam Academic Portal • All Rights Reserved.</p>
  </footer>

  <!-- SCRIPT -->
  <script type="module">
    import { curriculum } from "./js/curriculum.js";

    const selectedClass = localStorage.getItem("selectedClass") || "11";
    document.getElementById("class-header").textContent = `CBSE Class ${selectedClass} — Choose Your Stream`;

    const streamBtns = document.querySelectorAll("[data-stream]");
    const subjectContainer = document.getElementById("subject-container");
    const subjectGrid = document.getElementById("subject-grid");
    const streamTitle = document.getElementById("stream-title");

    streamBtns.forEach(btn => {
      btn.addEventListener("click", () => {
        const stream = btn.dataset.stream;
        localStorage.setItem("selectedStream", stream);
        renderSubjects(stream);
      });
    });

    function renderSubjects(stream) {
      const subjects = Object.keys(curriculum || {});
      let streamSubjects = [];
      if (stream === "Science") streamSubjects = ["Physics","Chemistry","Biology","Mathematics"];
      if (stream === "Commerce") streamSubjects = ["Accountancy","Business Studies","Economics","Mathematics"];
      if (stream === "Humanities") streamSubjects = ["History","Geography","Political Science","Sociology","Psychology","Economics"];

      subjectContainer.classList.remove("hidden");
      streamTitle.textContent = `${stream} Stream — Subjects`;
      subjectGrid.innerHTML = "";

      streamSubjects.forEach(sub => {
        if (subjects.includes(sub)) {
          const card = document.createElement("button");
          card.className = "card text-left hover:bg-blue-50 transition";
          card.innerHTML = `
            <h4 class="text-lg font-bold text-cbse-blue mb-1">${sub}</h4>
            <p class="text-gray-600 text-sm">Explore all NCERT books &amp; chapters in ${sub}.</p>`;
          card.onclick = () => {
            localStorage.setItem("selectedSubject", sub);
            window.location.href = "chapter-selection.html";
          };
          subjectGrid.appendChild(card);
        }
      });
      window.scrollTo({ top: subjectContainer.offsetTop - 100, behavior: "smooth" });
    }
  </script>
</body>
</html>
