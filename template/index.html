<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CBSE Class 11 — Academic Study Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            serif: ['Merriweather', 'serif'],
          },
          colors: {
            'cbse-blue': '#1a3e6a',
            'cbse-light': '#f5f7fa',
            'accent-gold': '#ffb703',
            'heading': '#0f172a',
          }
        }
      }
    }
  </script>
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
    body { font-family: 'Inter', sans-serif; background-color: #f5f7fa; }
    .subject-card {
      @apply block p-6 rounded-xl bg-white border border-gray-200 shadow-lg transition-all duration-300 relative overflow-hidden;
    }
    .subject-card:hover {
      transform: translateY(-5px);
      @apply shadow-2xl border-cbse-blue/50;
    }
    .card-title { @apply text-xl font-extrabold text-heading; }
    .card-description { @apply text-gray-600 text-sm; }
    .back-btn {
      @apply text-cbse-blue underline cursor-pointer font-semibold text-sm mb-6 block;
    }
  </style>
</head>

<body class="bg-cbse-light min-h-screen flex flex-col">

  <header class="bg-cbse-blue shadow-lg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-extrabold text-accent-gold tracking-wider">
        Ready4<span class="text-white">Exam</span>
      </h1>
    </div>
  </header>

  <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">

    <header id="page-header" class="text-center mb-12">
      <h2 class="text-4xl font-extrabold text-heading mb-2">CBSE Class 11 Streams</h2>
      <p class="text-lg text-gray-600">Select your stream to explore subjects and begin your chapter-wise practice quizzes.</p>
    </header>

    <!-- Stream Cards -->
    <div id="stream-container" class="grid grid-cols-1 md:grid-cols-3 gap-8"></div>

    <!-- Subject Cards -->
    <div id="subject-container" class="grid grid-cols-1 md:grid-cols-3 gap-8 hidden"></div>

  </main>

  <footer class="bg-cbse-blue mt-16 py-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-white">
      <small class="text-sm opacity-70 block mt-2">© 2025 Ready4Exam Academic Portal. All Rights Reserved.</small>
    </div>
  </footer>

  <script type="module">
    import { curriculum } from "./js/curriculum.js";

    const streamContainer = document.getElementById("stream-container");
    const subjectContainer = document.getElementById("subject-container");
    const header = document.getElementById("page-header");

    // Define streams & subject mappings
    const streams = {
      Science: ["Physics", "Chemistry", "Biology", "Mathematics"],
      Commerce: ["Accountancy", "Business Studies", "Economics", "Mathematics"],
      Humanities: ["History", "Political Science", "Geography", "Economics"]
    };

    const streamDescriptions = {
      Science: "Explore Physics, Chemistry, Biology, and Mathematics — the foundation for engineering, medical, and scientific careers.",
      Commerce: "Dive into Accountancy, Business Studies, and Economics — building strong fundamentals for finance and management.",
      Humanities: "Understand History, Political Science, and Geography — developing insight into society, governance, and human evolution."
    };

    const subjectDescriptions = {
      Physics: "Study laws of motion, energy, and the universe's structure.",
      Chemistry: "Learn molecular behavior and reactions that shape matter.",
      Biology: "Discover life processes, evolution, and biological systems.",
      Mathematics: "Develop logical reasoning and analytical problem-solving skills.",
      Accountancy: "Master the principles of accounting and financial reporting.",
      "Business Studies": "Understand business operations, ethics, and entrepreneurship.",
      Economics: "Analyze growth, development, and market forces shaping the economy.",
      History: "Explore civilizations, revolutions, and historical transformations.",
      "Political Science": "Learn how constitutions, rights, and governments work.",
      Geography: "Understand earth’s structure, environment, and human geography."
    };

    // Render stream cards
    Object.keys(streams).forEach(stream => {
      const card = document.createElement("div");
      card.className = "subject-card cursor-pointer";
      card.innerHTML = `
        <div class="flex items-center space-x-4 mb-3">
          <i data-lucide="layers" class="h-7 w-7 text-cbse-blue"></i>
          <h3 class="card-title">${stream}</h3>
        </div>
        <p class="card-description">${streamDescriptions[stream]}</p>
      `;
      card.onclick = () => renderSubjects(stream);
      streamContainer.appendChild(card);
    });
    lucide.createIcons();

    // Render subjects for selected stream
    function renderSubjects(stream) {
      streamContainer.classList.add("hidden");
      subjectContainer.classList.remove("hidden");
      subjectContainer.innerHTML = "";

      header.querySelector("h2").textContent = `${stream} Stream Subjects`;
      header.querySelector("p").textContent = `Select a subject to explore its books and chapters.`;

      // Back button
      const backBtn = document.createElement("span");
      backBtn.textContent = "← Back to Streams";
      backBtn.className = "back-btn";
      backBtn.onclick = () => {
        subjectContainer.classList.add("hidden");
        streamContainer.classList.remove("hidden");
        header.querySelector("h2").textContent = "CBSE Class 11 Streams";
        header.querySelector("p").textContent = "Select your stream to explore subjects and begin your chapter-wise practice quizzes.";
      };
      subjectContainer.before(backBtn);

      // Filter subjects that belong to this stream
      const streamSubjects = streams[stream].filter(sub => curriculum[sub]);
      if (!streamSubjects.length) {
        subjectContainer.innerHTML = `<p class="text-center text-gray-600 col-span-3">No subjects found for this stream.</p>`;
        return;
      }

      streamSubjects.forEach(subject => {
        const card = document.createElement("a");
        card.href = `chapter-selection.html?subject=${encodeURIComponent(subject)}`;
        card.className = "subject-card";
        card.innerHTML = `
          <div class="flex items-center space-x-4 mb-3">
            <i data-lucide="book-open" class="h-7 w-7 text-cbse-blue"></i>
            <h3 class="card-title">${subject}</h3>
          </div>
          <p class="card-description">${subjectDescriptions[subject] || "Explore the chapters and quizzes for this subject."}</p>
        `;
        subjectContainer.appendChild(card);
      });
      lucide.createIcons();
    }
  </script>
</body>
</html>
